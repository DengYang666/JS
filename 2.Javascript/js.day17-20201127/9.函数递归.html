<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>函数递归.</title>
</head>

<body>
    <script>
        /*
            函数自己调用自己 就是递归函数;  循环.
        */
        function plus(n) {
            if (n === 1) {
                return 1;
            }
            return plus(n - 1) * n;
        }
        //n=5   5x4x3x2x1
        //var re=plus(5);
        //alert(re);
        /*
            JSON数据格式. javascript 结合数组和对象(字面量对象)一种格式.
            XML
        */
        var data = [
            {
                id: 1,
                name: "广东",
                city: [
                    {
                        id: 2,
                        name: "广州",
                        city: [
                            { id: 3, name: "天河区" },
                            { id: 4, name: "白云区" },
                            { id: 5, name: "海珠区" }
                        ]
                    },
                    {
                        id: 6,
                        name: "深圳",
                        city: [
                            { id: 7, name: "宝安区" },
                            { id: 8, name: "南山区" },
                            { id: 9, name: "龙岗" }
                        ]
                    }

                ]
            },
            {
                id: 100,
                name: "广西",
                city: [
                    {
                        id: 101,
                        name: "柳州",
                        city: [
                            { id: 102, name: "A区" },
                            { id: 103, name: "B区" },
                            { id: 105, name: "C区" }
                        ]
                    },
                    {
                        id: 106,
                        name: "南宁",
                        city: [
                            { id: 107, name: "天区" },
                            { id: 108, name: "西乡区" },
                            { id: 109, name: "清秀区" }
                        ]
                    }

                ]
            }

        ];
        function getCityByID(id, data){
            var cityName='';
            for (var i in data) {
                if (data[i].id == id) {//如果找到有相等的id 就开始返回名称
                    cityName=data[i].name;
                    return cityName;
                }
                if (data[i].city && data[i].city.length > 0) {//如果第一次没有找到对应的城市,查找对象里面是否有city 有city就传入city递归查找
                    cityName = getCityByID(id, data[i].city);
                    if(cityName){//如果查找到结果为true 表示找到了, 结束循环. 开始返回结果.
                        return cityName;
                    }
                }
            }
            return cityName;
        }
        console.log(getCityByID(4, data));

    </script>
</body>

</html>